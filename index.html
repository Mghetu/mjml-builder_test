<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>MJML Studio (GrapesJS)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Data URL favicon to avoid 404 noise -->
    <link
      rel="icon"
      href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3E%3Crect width='16' height='16' fill='%23086bd4'/%3E%3Ctext x='8' y='12' text-anchor='middle' font-size='10' fill='white' font-family='Arial'%3EM%3C/text%3E%3C/svg%3E"
    />

    <!-- Content Security Policy -->
    <meta
      http-equiv="Content-Security-Policy"
      content="
        default-src 'self';
        script-src  'self' https://cdn.jsdelivr.net https://unpkg.com;
        style-src   'self' https://cdn.jsdelivr.net https://unpkg.com 'unsafe-inline';
        img-src     'self' data:;
        font-src    'self' https://cdn.jsdelivr.net https://unpkg.com data:;
        connect-src 'self' https://cdn.jsdelivr.net https://unpkg.com https://app.grapesjs.com;
        object-src  'none';
        base-uri    'self';
        upgrade-insecure-requests;
      "
    />

    <!-- CSS -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/grapesjs@0.22.12/dist/css/grapes.min.css"
    />
    <link rel="stylesheet" href="css/app.css" />

    <!-- JS (order matters): GrapesJS -> grapesjs-mjml -> mjml-browser UMD -> helpers -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/grapesjs@0.22.12/dist/grapes.min.js"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/grapesjs-mjml@1.0.7/dist/index.min.js"
    ></script>
    <!-- UMD build that defines window.mjml -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/mjml-browser@4.15.3/lib/index.js"
    ></script>

    <!-- Optional IndexedDB helper for large saves (safe to keep) -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/idb-keyval@6.2.1/dist/idb-keyval.iife.min.js"
    ></script>

    <!-- Optional icons for panel buttons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css"
    />

    <!-- App -->
    <script src="js/themes.js" defer></script>
    <script src="js/templates.js" defer></script>
    <script src="js/storage.js" defer></script>
    <script src="js/compile.js" defer></script>
    <script src="js/imageStore.js" defer></script>
    <script src="js/editor.js" defer></script>
  </head>
  <body>
    <div id="gjs" style="height: 100vh; overflow: hidden" aria-label="MJML editor"></div>
  </body>
</html>
